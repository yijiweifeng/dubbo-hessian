{"version":3,"sources":["../src/toolkit.js"],"names":["evaluation","stringSafeChange","strictString","str","replace","firstLowCase","name","v","toLowerCase","P","fn","args","arguments","resolve","reject","push","err","data","call","dataCheck","domain","fullName","interfacex","domainName","domainFn","undefined","domains","index","indexOf","pre","i","hasOwnProperty","__type__"],"mappings":"AAAA;;;AAGA;;;;;;;;;;;;;;kBAEgB;AACZA,gBAAY,CAAC,QAAD,EAAW,OAAX,EAAoB,SAApB,EAA+B,UAA/B,EAA2C,MAA3C,EAAmD,QAAnD,CADA;AAEZC,sBAAkB,0BAAUC,YAAV,EAAwBC,GAAxB,EAA6B;AAC3C,eAAOD,iBAAiB,IAAjB,GAAwBC,IAAIC,OAAJ,CAAY,KAAKJ,UAAjB,EAA6B,GAA7B,CAAxB,GAA4DG,GAAnE;AACH,KAJW;AAKZE,kBAAc,sBAAUC,IAAV,EAAgB;AAC1B,eAAOA,KAAKF,OAAL,CAAa,IAAb,EAAmB,UAAUG,CAAV,EAAa;AACnC,mBAAOA,EAAEC,WAAF,EAAP;AACH,SAFM,CAAP;AAGH,KATW;AAUZC,OAAG,WAAUC,EAAV,EAAc;AACb,eAAO,YAAY;AAAA;;AACf,gBAAIC,OAAO,oBAAWC,SAAX,CAAX;AACA,mBAAO,sBAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCH,qBAAKI,IAAL,CAAU,UAACC,GAAD,EAAMC,IAAN,EAAe;AACrB,wBAAID,QAAQ,IAAZ,EAAkBF,OAAOE,GAAP,EAAlB,KACKH,QAAQI,IAAR;AACR,iBAHD;AAIAP,mBAAGQ,IAAH,QAAcP,IAAd;AACH,aANM,CAAP;AAOH,SATD;AAUH,KArBW;AAsBZQ,eAAW,mBAAUC,MAAV,EAAiBC,QAAjB,EAA2B;AAClC,YAAIC,UAAJ;AACA,YAAIC,eAAe,IAAnB,EAAyB;AACrBD,yBAAaE,SAASD,UAAT,CAAb;AACA,gBAAID,eAAeG,SAAnB,EAA8B;AAC1B,uBAAOL,MAAP;AACH;AACDC,uBAAWK,QAAQH,UAAR,CAAX;AACH,SAND,MAMO,IAAIF,aAAa,IAAjB,EAAuB;AAC1B,gBAAIM,QAAQD,QAAQE,OAAR,CAAgBP,QAAhB,CAAZ;AACA,gBAAIM,UAAU,CAAC,CAAf,EAAkB;AACd,uBAAOP,MAAP;AACH;AACDE,yBAAaE,SAASG,KAAT,CAAb;AACA,gBAAIL,eAAeG,SAAnB,EAA8B;AAC1B,uBAAOL,MAAP;AACH;AACJ;AACD,YAAIS,MAAM,EAAV;AACA,aAAK,IAAIC,CAAT,IAAcV,MAAd,EAAsB;AAClB,gBAAIE,WAAWS,cAAX,CAA0BD,CAA1B,CAAJ,EAAkC;AAC9BD,oBAAIC,CAAJ,IAASR,WAAWQ,CAAX,EAAcV,OAAOU,CAAP,CAAd,CAAT;AACH;AACJ;AACDD,YAAIG,QAAJ,GAAeX,QAAf;AACA,eAAOQ,GAAP;AACH;AAhDW,C","file":"toolkit.js","sourcesContent":["/**\r\n * Created by cc on 16/8/12.\r\n */\r\n'use strict';\r\n\r\nexport default  {\r\n    evaluation: [\"script\", \"frame\", \"onclick\", \"location\", \"href\", \"submit\"],\r\n    stringSafeChange: function (strictString, str) {\r\n        return strictString === true ? str.replace(this.evaluation, \"*\") : str;\r\n    },\r\n    firstLowCase: function (name) {\r\n        return name.replace(/\\w/, function (v) {\r\n            return v.toLowerCase();\r\n        });\r\n    },\r\n    P: function (fn) {\r\n        return function () {\r\n            let args = Array.from(arguments);\r\n            return new Promise((resolve, reject) => {\r\n                args.push((err, data) => {\r\n                    if (err !== null) reject(err);\r\n                    else resolve(data);\r\n                });\r\n                fn.call(this, args);\r\n            });\r\n        };\r\n    },\r\n    dataCheck: function (domain,fullName) {\r\n        var interfacex;\r\n        if (domainName !== null) {\r\n            interfacex = domainFn[domainName];\r\n            if (interfacex === undefined) {\r\n                return domain;\r\n            }\r\n            fullName = domains[domainName];\r\n        } else if (fullName !== null) {\r\n            var index = domains.indexOf(fullName);\r\n            if (index === -1) {\r\n                return domain;\r\n            }\r\n            interfacex = domainFn[index];\r\n            if (interfacex === undefined) {\r\n                return domain;\r\n            }\r\n        }\r\n        var pre = {};\r\n        for (var i in domain) {\r\n            if (interfacex.hasOwnProperty(i)) {\r\n                pre[i] = interfacex[i](domain[i]);\r\n            }\r\n        }\r\n        pre.__type__ = fullName;\r\n        return pre;\r\n    },\r\n}"]}