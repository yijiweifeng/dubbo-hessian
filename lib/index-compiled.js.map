{"version":3,"sources":["index.js"],"names":[],"mappings":"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GAAR,CAAY,GAAZ;AACH,6BAFD;;AAIJ,6BAAK,CAAL;AACA,6BAAK,KAAL;AACI,mCAAO,SAAS,IAAT,EAAP;AAfR;AAiBH;AACJ,aApBM,EAoBJ,OApBI,EAoBK,IApBL,CAAP;AAqBH,SAvB2C,CAAhC,CAAZ;;AAyBA,iBAAS,KAAT,GAAiB;AACb,mBAAO,MAAM,KAAN,CAAY,IAAZ,EAAkB,SAAlB,CAAP;AACH;;AAED,eAAO,KAAP;AACH,KA/BmB,EAApB;;AAiCA,WAAO,CAAP;AACH,CA1DO,EAAR;;AA4DA,QAAQ,OAAR,GAAkB,CAAlB;;AAGA,IAAI,IAAI,IAAI,CAAJ,EAAR;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index-compiled.js","sourcesContent":["/**\r\n * Created by cc on 16/8/11.\r\n */\n'use strict';\n\nexports.__esModule = true;\n\nvar _regenerator = require('babel-runtime/regenerator');\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = require('babel-runtime/helpers/asyncToGenerator');\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _promise = require('babel-runtime/core-js/promise');\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _from = require('babel-runtime/core-js/array/from');\n\nvar _from2 = _interopRequireDefault(_from);\n\nvar _nodeZookeeperClient = require('node-zookeeper-client');\n\nvar _nodeZookeeperClient2 = _interopRequireDefault(_nodeZookeeperClient);\n\nvar _javaClassParser = require('java-class-parser');\n\nvar _javaClassParser2 = _interopRequireDefault(_javaClassParser);\n\nvar _fs = require('fs');\n\nvar _fs2 = _interopRequireDefault(_fs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nrequire('babel-runtime/core-js/promise').default = require('bluebird');\nglobal.Promise = require('bluebird');\n\nvar P = function P(fn) {\n    return function () {\n        var _this = this;\n\n        var args = (0, _from2.default)(arguments);\n        return new _promise2.default(function (resolve, reject) {\n            args.push(function (err, data) {\n                if (err !== null) reject(err);else resolve(data);\n            });\n            fn.call(_this, args);\n        });\n    };\n};\n\nvar A = function () {\n    /**\r\n     * @param json,key= name（app标识）,zk(注册中心地址 ip:port),dubbo_version(展示到注册中心的dubbo版本,默认2.8.4),service_version(服务版本,默认为任意版本),service_group = 'dubbo'(服务分组,默认dubbo)\r\n     */\n    function A() {\n        var _ref = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n        var name = _ref.name;\n        var zk = _ref.zk;\n        var _ref$connectTimeout = _ref.connectTimeout;\n        var connectTimeout = _ref$connectTimeout === undefined ? 1000 : _ref$connectTimeout;\n        var _ref$retries = _ref.retries;\n        var retries = _ref$retries === undefined ? 3 : _ref$retries;\n        var _ref$dubbo_version = _ref.dubbo_version;\n        var dubbo_version = _ref$dubbo_version === undefined ? '2.8.4' : _ref$dubbo_version;\n        var service_version = _ref.service_version;\n        var _ref$service_group = _ref.service_group;\n        var service_group = _ref$service_group === undefined ? 'dubbo' : _ref$service_group;\n        (0, _classCallCheck3.default)(this, A);\n\n        this.client = _nodeZookeeperClient2.default.createClient(zk, connectTimeout, retries);\n        this.client.once('connected', function () {});\n    }\n\n    A.prototype._init = function () {\n        var _ref2 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee() {\n            var readdir, domains;\n            return _regenerator2.default.wrap(function _callee$(_context) {\n                while (1) {\n                    switch (_context.prev = _context.next) {\n                        case 0:\n                            readdir = P(_fs2.default.readdir);\n                            _context.next = 3;\n                            return readdir();\n\n                        case 3:\n                            domains = _context.sent;\n\n                            domains.forEach(function (ele) {\n                                console.log(ele);\n                            });\n\n                        case 5:\n                        case 'end':\n                            return _context.stop();\n                    }\n                }\n            }, _callee, this);\n        }));\n\n        function _init() {\n            return _ref2.apply(this, arguments);\n        }\n\n        return _init;\n    }();\n\n    return A;\n}();\n\nexports.default = A;\n\n\nvar a = new A();\n\n// client = zookeeper.createClient(\"101.200.218.24:2181\", {\n//     connectTimeout: 1000,\n//     retries: 3\n// });\n//\n//\n// var to = function () {\n//     var service = \"com.alibaba.dubbo.monitor.MonitorService\";\n//     var parameters = \"parameters\";\n//     var result = \"result\";\n//     var address = \"10.0.0.17\";\n//     var registry = \"registry\";\n//     var application = \"application\";\n//     var username = \"username\";\n//     var statistics = \"statistics\";\n//     var collected = \"collected\";\n//     var routes = \"routes\";\n//     var overrides = \"overrides\";\n//     var alived = \"alived\";\n//     var expired = \"expired\";\n//     return \"consumer://\" +\n//         address\n//         + \"/\" +\n//         service\n//         + \"?category=consumers&check=false&dubbo=0.0.1-SNAPSHOT-executable&interface=\" +\n//         service\n//         + \"&pid=18175×tamp=1470913660519\";\n// };\n//\n// client.once('connected', function () {\n//     client.create(\n//         \"/dubbo/com.alibaba.dubbo.monitor.MonitorService/consumers/10.0.0.179\",\n//         new Buffer(to()),\n//         zookeeper.CreateMode.EPHEMERAL,\n//         function (error, path) {\n//             if (error) {\n//                 console.log(error.stack);\n//                 return;\n//             }\n//\n//             console.log('Node: %s is created.', path);\n//         }\n//     );\n//     return;\n//     client.mkdirp(\"/dubbo/com.alibaba.dubbo.monitor.MonitorService/consumers/10.0.0.177\", function (error, path) {\n//         if (error) {\n//             console.log(error.stack);\n//             return;\n//         }\n//         console.log('Node: %s is created.', path);\n//     });\n//     return;\n//     var obj = {\"/\": {}};\n//     var fn = function (p, o) {\n//         client.getChildren(p, function (error, children, stats) {\n//             children.forEach(function (ele) {\n//                 if (p === \"/\") {\n//                     o[p + decodeURIComponent(ele)] = {};\n//                     fn(p + ele, o[p + ele]);\n//                 } else {\n//                     o[p + \"/\" + decodeURIComponent(ele)] = {};\n//                     fn(p + \"/\" + ele, o[p + \"/\" + ele]);\n//                 }\n//             });\n//             return obj;\n//         });\n//     };\n//     setTimeout(function () {\n//         var tt = {};\n//         for (var i in obj[\"/\"][\"/dubbo\"]) {\n//             if (isnotempty(obj[\"/\"][\"/dubbo\"][i][i + \"/providers\"])) {\n//                 tt[i] = (obj[\"/\"][\"/dubbo\"][i]);\n//             }\n//         }\n//         console.log(JSON.stringify(tt));\n//     }, 30 * 1000);\n//     fn(\"/\", obj[\"/\"]);\n// });\n//\n//\n// client.connect();\n//# sourceMappingURL=index.js.map"]}